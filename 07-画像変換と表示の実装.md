# 07. 画像変換と表示の実装

## 非同期でタスクを処理するアクター
## 画像の変換
## 変換後の画像のプロパティ情報の更新
## 画像を取得するAPI
## 画像のプロパティ情報の取得
## フロントのコンポーネントの実装

Fetch API とは

```
Fetch = 取得する
- リクエストやレスポンスといった HTTP のパイプラインを構成する要素を操作できる
  ex. JSONデータをアップロード、ファイルをアップロード、
- Fetchメソッドで、非同期のネットワーク通信を簡単にわかりやすく記述できるようになる。

- 従来は、このような操作は XMLHttpRequest で行われていた

JQuery.ajax や XMLHttpRequest の代替として利用できる
```

ネットワーク越しに JSONファイル を取得して、コンソールに出力する

```js
fetch('http://example.com/movies.json')
  .then(function(response) {
    return response.json();
  })
  .then(function(myJson) {
    console.log(myJson);
  });
```

XMLHttpRequest

```js
// XHR
var url = "test.json";
var xhr = new XMLHttpRequest();
xhr.open('GET', url);
xhr.responseType = 'json';

xhr.onload = function() {
  console.log(xhr.response);
};

xhr.onerror = function() {
  console.log("Error!");
};

xhr.send();
```

Fetch

```js
// Fetch + async/await
var url = "test.json";
var asyncFunc = async function() {
  try {
    let response = await fetch(url);
    let data = response.json();
    console.log(data);
  } catch(e) {
    console.log("Error!");
  }
}
```

## 自動更新されるコンポーネントの実装

JSXとは

React要素を簡単に書ける記述方法。変数に HTML を直接代入する。

```js
import React from 'react';
import ReactDOM from 'react-dom';

var greeting = React.createElement('h1', null, 'Hi!');

ReactDOM.render(
  greeting,
  document.getElementById('root')
);
```

以上は、以下のように書ける。

```js
import React from 'react';
import ReactDOM from 'react-dom';

var greeting = <h1>Hi!</h1>;

ReactDOM.render(
  greeting,
  document.getElementById('root')
);
```